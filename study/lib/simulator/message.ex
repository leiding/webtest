defmodule SimMessage do
  def msg1() do
    """
    MSH|^~\&|MINDRAY_D-SERIES^00A037009A0053DE^EUI-64||||20190929161510000||ORU^R01^ORU_R01|3938|P|2.6|||AL|NE||UNICODE UTF-8|||IHE_PCD_001^IHE PCD^1.3.6.1.4.1.19376.1.6.1.1.1^ISO
    PID|||^^^Hospital^PI||^^^^^^L
    PV1||I
    OBR|1||3938^MINDRAY_D-SERIES^00A037009A0053DE^EUI-64|CONTINUOUS WAVEFORM|||20190929161509620|20190929161510620
    OBX|1|NA|381^MNDRY_ECG_ELEC_POTL_DEFIB_PADDLE^99MNDRY|1.31.1.381|32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767^32767|262656^MDC_DIM_DIMLESS^MDC
    OBX|2|NM|0^MDC_ATTR_SAMP_RATE^MDC|1.31.1.381.1|500|264608^MDC_DIM_PER_SEC^MDC
    OBX|3|NM|2327^MDC_ATTR_NU_MSMT_RES^MDC|1.31.1.381.2|0.000305|266418^MDC_DIM_MILLI_VOLT^MDC
    OBX|4|NM|262196^MDC_EVT_INOP^MDC|1.31.1.381.3|32767
    """
    |> String.replace("\n", "\r")
  end

  def time_stamp() do
    :calendar.local_time()
    |> Tuple.to_list()
    |> Enum.map(fn x ->
      x
      |> Tuple.to_list()
      |> Enum.join()
    end)
    |> Enum.join()
  end

  def heart_beat(), do: Enum.random(60..100)
  def breath(), do: Enum.random(12..20)

  def msg_d_series(id) do
    """
    MSH|^~\&|#{id}||||#{time_stamp()}||ORU^R01^ORU_R01|9|P|2.6|||AL|NE||UNICODE UTF-8|||IHE_PCD_001^IHE PCD^1.3.6.1.4.1.19376.1.6.1.1.1^ISO
    PID|||^^^Hospital^PI||^^^^^^L
    PV1||I
    OBR|1|9^#{id}|9^#{id}|182777000^monitoring of patient^SCT|||20191014103851
    OBX|1|NM|147842^MDC_ECG_HEART_RATE^MDC|1.7.4.147842|#{heart_beat()}|264864^MDC_DIM_BEAT_PER_MIN^MDC|||||R|||20191014103851||||00A037009A0053DE^^00A037009A0053DE^EUI-64
    OBX|2|NM|151578^MDC_TTHOR_RESP_RATE^MDC|1.7.1.151578|#{breath()}|264928^MDC_DIM_RESP_PER_MIN^MDC|||||R|||20191014103851
    
    MSH|^~\&|#{id}||||#{time_stamp()}||ORU^R01^ORU_R01|15|P|2.6|||AL|NE||UNICODE UTF-8|||IHE_PCD_001^IHE PCD^1.3.6.1.4.1.19376.1.6.1.1.1^ISO
    PID|||^^^Hospital^PI||^^^^^^L
    PV1||I
    OBR|1||15^#{id}|CONTINUOUS WAVEFORM|||20191014103850630|20191014103851630
    OBX|1|NA|131330^MDC_ECG_ELEC_POTL_II^MDC|1.7.6.131330|-92^-88^-88^-84^-76^-72^-68^-60^-56^-52^-48^-48^-48^-48^-52^-52^-60^-64^-68^-72^-76^-76^-80^-80^-76^-72^-68^-60^-56^-52^-48^-40^-36^-32^-32^-28^-24^-20^-20^-16^-16^-16^-12^-12^-8^-4^0^4^8^8^12^16^20^24^28^36^44^48^56^60^64^68^68^68^64^60^56^52^48^40^32^28^20^12^4^-4^-16^-24^-36^-44^-48^-52^-56^-60^-64^-68^-76^-76^-80^-80^-80^-80^-80^-76^-76^-68^-68^-68^-64^-68^-68^-68^-64^-64^-60^-56^-52^-52^-48^-48^-44^-44^-44^-44^-40^-40^-36^-36^-32^-28^-24^-16^-4^12^36^72^124^184^252^324^400^476^544^600^632^640^624^580^524^456^388^316^248^184^120^64^20^-20^-48^-68^-84^-92^-96^-92^-92^-84^-84^-80^-76^-76^-76^-76^-80^-80^-84^-84^-80^-80^-76^-72^-68^-64^-64^-64^-64^-60^-60^-56^-52^-52^-52^-52^-52^-56^-60^-60^-60^-60^-60^-56^-56^-56^-52^-52^-48^-48^-44^-40^-32^-28^-20^-16^-12^-12^-12^-8^-8^-4^-4^0^0^4^4^8^12^16^20^24^24^28^28^32^36^40^44^48^52^60^64^68^72^76^80^84^88^92^100^104^108^116^120^124^128^132^132^136^144^148^156^164^168^168^168^164^160^156^152^148^144^140^132^124^116^108^100^92^80^68^56^44^28^16^0^-8^-24^-36^-48^-56^-64^-76^-84^-96^-108^-116^-124^-132^-136^-140^-144^-144^-144^-148^-148^-148^-148^-144^-144^-144^-144^-144^-148^-144^-144^-140^-140^-136^-132^-128^-124^-124^-124^-124^-128^-128^-128^-128^-132^-128^-128^-124^-124^-124^-124^-120^-120^-120^-120^-116^-116^-112^-108^-104^-100^-92^-88^-84^-80^-76^-72^-72^-68^-68^-68^-68^-64^-64^-64^-60^-60^-60^-60^-56^-52^-48^-48^-44^-44^-40^-44^-44^-40^-40^-40^-36^-36^-32^-32^-32^-36^-40^-40^-40^-40^-40^-40^-40^-40^-40^-40^-40^-40^-36^-36^-32^-32^-28^-28^-24^-16^-8^0^4^8^16^24^28^36^44^48^56^60^64^68^72^76^76^76^76^72^68^64^60^52^48^36^24^16^8^0^-8^-16^-24^-32^-36^-44^-52^-60^-64^-72^-76^-80^-84^-84^-84^-84^-84^-80^-80^-76^-72^-72^-68^-68^-64^-64^-64^-64^-60^-64^-60^-60^-56^-52^-48^-44^-40^-40^-36^-36^-32^-28^-28^-24^-20^-12^0^16^36^72^116^172^240^316^392^472^548^612^660^684^680^648^596^528^452^376^292^216^144^80^24^-16^-48^-72^-88^-96^-96^-96^-92^-92^-88|262656^MDC_DIM_DIMLESS^MDC
    OBX|2|NM|0^MDC_ATTR_SAMP_RATE^MDC|1.7.6.131330.1|500|264608^MDC_DIM_PER_SEC^MDC
    OBX|3|NM|2327^MDC_ATTR_NU_MSMT_RES^MDC|1.7.6.131330.2|0.001221|266418^MDC_DIM_MILLI_VOLT^MDC
    OBX|4|NM|262196^MDC_EVT_INOP^MDC|1.7.6.131330.3|32767
    
    MSH|^~\&|#{id}||||#{time_stamp()}||ORU^R01^ORU_R01|16|P|2.6|||AL|NE||UNICODE UTF-8|||IHE_PCD_001^IHE PCD^1.3.6.1.4.1.19376.1.6.1.1.1^ISO
    PID|||^^^Hospital^PI||^^^^^^L
    PV1||I
    OBR|1||16^#{id}|CONTINUOUS WAVEFORM|||20191014103850630|20191014103851630
    OBX|1|NA|151780^MDC_IMPED_TTHOR^MDC|1.7.1.151780|32^32^32^32^32^32^32^32^32^32^32^32^32^32^32^32^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^31^30^30^30^30^30^30^30^30^30^30^30^30^30^30^30^30^29^29^29^29^29^29^29^29^29^29^29^29^29^29^28^28^28^28^28^28^28^28^28^28^28^28^28^28^27^27^27^27^27^27^27^27^27^27^27^27^27^27^26^26^26^26^26^26^26^26^26^26^26^26^25^25^25^25^25^25^25^25^25^25^24^24^24^24^24^24^24^24^24^24^24^24^24^24^23^23^23^23^23^23^23^23^23^23^23^23^22^22^22^22^22^22^22^22^22^22^21^21^21^21^21^21^21^21^21^21^20^20^20^20^20^20^20^20^20^20^20^20^19^19^19^19^19^19^19^19^19^19^18^18^18^18^18^18^18^18^18^18^18^18^17^17^17^17^17^17^17^17^16^16^16^16^16^16^16^16^16^16^15^15^15^15^15^15^15^15^15^15^15^15^14^14^14^14^14^14^14^14^14^14^14^14^13^13^13^13^13^13^13^13^13^13^13^13^12^12^12^12^12^12^12^12^12^12^12^12^12^12^11^11^11^11^11^11^11^11^11^11^10^10^10^10^10^10^10^10^10^10^10^10^9^9^9^9^9^9^9^9^9^9^8^8^8^8^8^8^8^8^8^8^7^7^7^7^7^7^7^7^7^7^7^7^6^6^6^6^6^6^6^6^6^6^6^6^6^6^5^5^5^5^5^5^5^5^5^5^4^4^4^4^4^4^4^4^4^4^4^4^4^4^3^3^3^3^3^3^3^3^3^3^3^3^3^3^2^2^2^2^2^2^2^2^2^2^2^2^1^1^1^1^1^1^1^1^1^1^0^0^0^0^0^0^0^0^0^0^0^0^-1^-1^-1^-1^-1^-1^-1^-1^-1^-1^-2^-2^-2^-2^-2^-2^-2^-2^-2^-2^-3^-3^-3^-3^-3^-3^-3^-3^-3^-3^-4^-4^-4^-4^-4^-4^-4^-4^-4^-4^-5^-5^-5^-5^-5^-5^-5^-5^-6^-6^-6^-6^-6^-6^-6^-6^-6^-6^-7^-7^-7^-7^-7^-7^-7^-7^-7^-7^-7^-7^-8^-8^-8^-8^-8^-8^-8^-8^-8^-8^-9^-9^-9^-9^-9^-9^-9^-9^-9^-9^-9^-9^-10^-10^-10^-10|262656^MDC_DIM_DIMLESS^MDC
    OBX|2|NM|0^MDC_ATTR_SAMP_RATE^MDC|1.7.1.151780.1|500|264608^MDC_DIM_PER_SEC^MDC
    OBX|3|NM|2327^MDC_ATTR_NU_MSMT_RES^MDC|1.7.1.151780.2|1.000000|262656^MDC_DIM_DIMLESS^MDC
    OBX|4|NM|262196^MDC_EVT_INOP^MDC|1.7.1.151780.3|32767
    """
    |> String.replace("\n", "\r")
  end
end
